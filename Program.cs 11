using System;

namespace factorial
{
    class MainClass
    {
        public static void Main(string[] args)
        {
            //Цикл:: циклы работают, в общем-то, след. образом - если условие в скобках
            //равно true, т.е., если условие равно истине, то блок в цикле работает.
            //Так вот, к чему это. В скобках у нас прописано true. Получается, у нас 
            //true равно true, тобишь - равно истине. Цикл будет выполнятся, пока 
            //не вырубить комп, программу или в цикле где-то будет слово break, ниже
            //ты встретишься с ним.
            while (true)
            {
                //Проверяем то, что в блоке try на ошибки, если всё окэй, переходим
                //до break, внизу он там.
            try
                {
                    //Обьявляем переменные.
                    int число = 0;
                    double результат = 0,
                           множитель = 1,
                           результат_факториала = 1;
                    //Выводим на экран сообщение.
                    Console.Write("Введите число : ");
                    //Присваиваем числу, введенное пользователем.
                    число = Convert.ToInt32(Console.ReadLine());
                    //Цикл :: если множитель меньше числа плюс один(т.е. число + 1),
                    //то результат факториала умножается на множитель, дальше множитель
                    //прибавляется на единичку. И так, пока множитель не станет 'меньше числа плюс один'.
                    //Например, мы ввели число 3. Будет так:
                    //если(1 < 3 + 1)
                    //{
                    //1 домножаем на = 1;
                    //множитель прибавляется 1 + 1 = 2;
                    //}
                    //если(2 < 3 + 1)
                    //{
                    //1 домножаем на = 2;
                    //множитель прибавляется 2 + 1 = 3;
                    //}
                    //если(3 < 3 + 1)
                    //{
                    //2 домножаем на = 3;
                    //множитель прибавляется 3 + 1 = 4;
                    //}
                    //если(4 < 3 + 1)
                    //условие не истинно, по этому цикл не срабатывает и программа идёт своим чердом.
                    while (множитель < число + 1)
                        {
                        результат_факториала *= множитель;
                        множитель++;
                        }
                    //Вычисляем общий результат по формуле, данной в задании ЛР.
                    результат = результат_факториала / Math.Pow(число, число);
                    //Выводм на экран результат с модификатором "три числа после комы"
                    //(сколько нулей после '{0:0.', настолько и будет обрезано или
                    //округленно число, не помню точно).
                    Console.WriteLine("Результат {0:0.000}", результат);
                }
                catch (Exception error)
                {
                    //Тут мы получили сверху в скобках переменную error и выводим её после "Ошибка: "
                    Console.WriteLine("Ошибка: " + error.Message);
                    //Так как у нас выскочила ошибка и завершать программу будет не корректно
                    //начинаем цикл с начала с помощью команды 'continue', а до 'break' программа дальше не идёт.
                    continue;
                }
                //Если программа дойдёт сюда, 'break' закончит работу цикла
                break;
            }
        }
    }
}
